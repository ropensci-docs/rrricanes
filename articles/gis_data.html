<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rrricanes">
<title>GIS data • rrricanes</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="GIS data">
<meta property="og:description" content="rrricanes">
<meta property="og:image" content="https://docs.ropensci.org/rrricanes/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">rrricanes</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.0.6.10</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/rrricanes/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>GIS data</h1>
                        <h4 data-toc-skip class="author">Tim Trice</h4>
            
            <h4 data-toc-skip class="date">2022-04-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rrricanes/blob/HEAD/vignettes/gis_data.Rmd" class="external-link"><code>vignettes/gis_data.Rmd</code></a></small>
      <div class="d-none name"><code>gis_data.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rrricanes">rrricanes</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></code></pre></div>
<p>Most storms will contain a variation of GIS datasets that can be plotted with <code>ggplot2</code>. The helper functions for this have the prefix ‘gis’.</p>
<p><strong>All products are experimental and there maybe fluctuations particularly in current datasets.</strong></p>
<p>In general, datasets are available for storms dated back to 1998. However, products such as Wind Speed Probabilities only go back to 1999.</p>
<p>Some datasets require the use of the storm key and an optional advisory. Other products require a datetime value and cannot be isolated by storm key or advisory. The datetime values are not based on the issue time of the advisory, but rather three hours prior. For example, if you are seeking a dataset where the forecast/advisory was issued at 9:00AM UTC, you will want the dataset for 6:00AM UTC. This will be explained a little further below.</p>
<div class="section level2">
<h2 id="build-a-tracking-chart">Build a Tracking Chart<a class="anchor" aria-label="anchor" href="#build-a-tracking-chart"></a>
</h2>
<p>There are three functions available to help you plot GIS data; <code>tracking_chart</code>, <code>al_tracking_chart</code> and <code>ep_tracking_chart</code>. <code>al_tracking_chart</code> and <code>ep_tracking_chart</code> are just helpers centered on the Atlantic and northeast Pacific ocean, respectively.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/args.html" class="external-link">args</a></span><span class="op">(</span><span class="fu">rrricanes</span><span class="fu">::</span><span class="va"><a href="../reference/tracking_chart.html">tracking_chart</a></span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## function (countries = TRUE, states = TRUE, res = 110, ...) </span>
<span class="co">## NULL</span></code></pre>
<p>The <code>countries</code> and <code>states</code> parameters are TRUE by default. This means a basic call to <code>tracking_chart</code> will return a map with country and state borders. The <code>res</code> parameter is resolution; one of 110, 50 or 10 nautical miles. Resolutions 110nm and 50nm can be used immediately. To use lower resolution you must install the <code>rnaturalearthdatahires</code> package from ropensci:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rnaturalearthhires"</span>,
                 repos <span class="op">=</span> <span class="st">"http://packages.ropensci.org"</span>,
                 type <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></code></pre></div>
<p><code>tracking_chart</code> will print a basic tracking chart (a map of the planet).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/tracking_chart.html">tracking_chart</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Regions defined for each Polygons</span>
<span class="co">## Regions defined for each Polygons</span></code></pre>
<p><img src="gis_data_files/figure-html/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;"></p>
<p>You can pass typical <code>aes</code> parameters to refine the color and fill of the plot; remember the tracking chart is a ggplot object.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/tracking_chart.html">tracking_chart</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="st">"white"</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Regions defined for each Polygons</span>
<span class="co">## Regions defined for each Polygons</span></code></pre>
<p><img src="gis_data_files/figure-html/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;"></p>
<p>You may choose to only show coastline data instead. In this case, just set the countries parameter to FALSE.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/tracking_chart.html">tracking_chart</a></span><span class="op">(</span>countries <span class="op">=</span> <span class="cn">FALSE</span>, res <span class="op">=</span> <span class="fl">50</span>, color <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="st">"white"</span>, 
               size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></code></pre></div>
<p><img src="gis_data_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;"></p>
<p>For the purposes of this vignette we’ll focus on Atlantic storms.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/al_tracking_chart.html">al_tracking_chart</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span>,
                        fill <span class="op">=</span> <span class="st">"white"</span>, 
                        size <span class="op">=</span> <span class="fl">0.1</span>,
                        res <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Regions defined for each Polygons</span>
<span class="co">## Regions defined for each Polygons</span></code></pre>
<pre><code><span class="co">## Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></code></pre>
<p><img src="gis_data_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;"></p>
<p>The <code>res</code> parameter defines the resolution of the chart presented. Options are in 110nm, 50nm and 10nm. The lower the resolution the longer the chart takes to be built.</p>
<p>States cannot be drawn on resolution greater than 50nm.</p>
</div>
<div class="section level2">
<h2 id="gis-datasets">GIS Datasets<a class="anchor" aria-label="anchor" href="#gis-datasets"></a>
</h2>
<p>There are several datasets that are published for active cyclones. The following functions are designed to return the URL to those datasets:</p>
<ul>
<li><code>gis_advisory</code></li>
<li><code>gis_prob_storm_surge</code></li>
<li><code>gis_windfield</code></li>
<li><code>gis_latest</code></li>
</ul>
</div>
<div class="section level2">
<h2 id="advisory-package">Advisory Package<a class="anchor" aria-label="anchor" href="#advisory-package"></a>
</h2>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gis_advisory.html">gis_advisory</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"AL182012"</span>, advisory <span class="op">=</span> <span class="st">"18"</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "https://www.nhc.noaa.gov/gis/forecast/archive/al182012_5day_018.zip"</span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df.gis_adv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gis_advisory.html">gis_advisory</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"AL182012"</span>,
                            advisory <span class="op">=</span> <span class="st">"18"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
                            <span class="fu"><a href="../reference/gis_download.html">gis_download</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df.gis_adv</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "al182012.018_5day_lin" "al182012.018_5day_pgn" "al182012.018_5day_pts"</span>
<span class="co">## [4] "al182012.018_ww_wwlin"</span></code></pre>
<p>For this particular storm and advisory, included are the base line, point and polygon datasets along with a dataset for watches and warnings. The objects returned are spatial dataframes contained within the list of dataframes, <code>df.gis_adv</code>.</p>
<div class="section level3">
<h3 id="line-track">Line track<a class="anchor" aria-label="anchor" href="#line-track"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df.gis_adv</span><span class="op">$</span><span class="va">al182012.018_5day_lin</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Formal class 'SpatialLinesDataFrame' [package "sp"] with 4 slots</span>
<span class="co">##   ..@ data       :'data.frame':  2 obs. of  7 variables:</span>
<span class="co">##   .. ..$ STORMNAME: chr [1:2] "SANDY" "SANDY"</span>
<span class="co">##   .. ..$ STORMTYPE: chr [1:2] "HU" "HU"</span>
<span class="co">##   .. ..$ ADVDATE  : chr [1:2] "121026/2100" "121026/2100"</span>
<span class="co">##   .. ..$ ADVISNUM : chr [1:2] "18" "18"</span>
<span class="co">##   .. ..$ STORMNUM : num [1:2] 18 18</span>
<span class="co">##   .. ..$ FCSTPRD  : num [1:2] 72 120</span>
<span class="co">##   .. ..$ BASIN    : chr [1:2] "al" "al"</span>
<span class="co">##   ..@ lines      :List of 2</span>
<span class="co">##   .. ..$ :Formal class 'Lines' [package "sp"] with 2 slots</span>
<span class="co">##   .. .. .. ..@ Lines:List of 1</span>
<span class="co">##   .. .. .. .. ..$ :Formal class 'Line' [package "sp"] with 1 slot</span>
<span class="co">##   .. .. .. .. .. .. ..@ coords: num [1:6, 1:2] -77.1 -77 -76.1 -74.3 -72.6 ...</span>
<span class="co">##   .. .. .. ..@ ID   : chr "0"</span>
<span class="co">##   .. ..$ :Formal class 'Lines' [package "sp"] with 2 slots</span>
<span class="co">##   .. .. .. ..@ Lines:List of 1</span>
<span class="co">##   .. .. .. .. ..$ :Formal class 'Line' [package "sp"] with 1 slot</span>
<span class="co">##   .. .. .. .. .. .. ..@ coords: num [1:8, 1:2] -77.1 -77 -76.1 -74.3 -72.6 ...</span>
<span class="co">##   .. .. .. ..@ ID   : chr "1"</span>
<span class="co">##   ..@ bbox       : num [1:2, 1:2] -77.1 27.3 -71.5 41</span>
<span class="co">##   .. ..- attr(*, "dimnames")=List of 2</span>
<span class="co">##   .. .. ..$ : chr [1:2] "x" "y"</span>
<span class="co">##   .. .. ..$ : chr [1:2] "min" "max"</span>
<span class="co">##   ..@ proj4string:Formal class 'CRS' [package "sp"] with 1 slot</span>
<span class="co">##   .. .. ..@ projargs: chr "+proj=longlat +a=6371200 +b=6371200 +no_defs"</span></code></pre>
<p>As we’re dealing with a SpatialLinesDataFrame which needs to be modified, you can use the helper function <code>shp_to_df</code> for plotting.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fcst_line</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/shp_to_df.html">shp_to_df</a></span><span class="op">(</span><span class="va">df.gis_adv</span><span class="op">$</span><span class="va">al182012.018_5day_lin</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_path</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">fcst_line</span>, 
              <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">long</span>, <span class="va">lat</span>, group <span class="op">=</span> <span class="va">FCSTPRD</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="gis_data_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;"></p>
<p>There are two groups of data in the set: one for 72-hour forecast period and one for 120-hour. Grouping by <code>FCSTPRD</code> will show the forecast track correctly.</p>
<p>There is a pretty wide field of view on the map above. You can use <code><a href="https://rdrr.io/pkg/sp/man/bbox.html" class="external-link">sp::bbox</a></code> to “zoom in” on the map.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/bbox.html" class="external-link">bbox</a></span><span class="op">(</span><span class="va">df.gis_adv</span><span class="op">$</span><span class="va">al182012.018_5day_lin</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##     min   max</span>
<span class="co">## x -77.1 -71.5</span>
<span class="co">## y  27.3  41.0</span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_path</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">fcst_line</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">long</span>, <span class="va">lat</span>, group <span class="op">=</span> <span class="va">FCSTPRD</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="fl">5</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">+</span> <span class="fl">5</span><span class="op">)</span>, 
                ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="fl">5</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">+</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></code></pre>
<p><img src="gis_data_files/figure-html/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="point-track">Point track<a class="anchor" aria-label="anchor" href="#point-track"></a>
</h3>
<p>Each forecast position is also included in the points dataframe. You can access this in the <code>df.gis_adv$al182012.018_5day_pts@data</code> object; no conversion necessary.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="va">p2</span> <span class="op">+</span> 
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df.gis_adv</span><span class="op">$</span><span class="va">al182012.018_5day_pts</span><span class="op">@</span><span class="va">data</span>,
              <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">LON</span>, <span class="va">LAT</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="gis_data_files/figure-html/unnamed-chunk-16-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="forecast-cone">Forecast Cone<a class="anchor" aria-label="anchor" href="#forecast-cone"></a>
</h2>
<p>Forecast cone data is contained in the polygon dataset. To deal with this dataset you can use the <code>shp_to_df</code> function again or take the slightly longer way:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fcst_cone</span> <span class="op">&lt;-</span> <span class="va">df.gis_adv</span><span class="op">$</span><span class="va">al182012.018_5day_pgn</span>
<span class="va">fcst_cone</span><span class="op">@</span><span class="va">data</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">fcst_cone</span><span class="op">@</span><span class="va">data</span><span class="op">)</span>
<span class="va">fcst_cone.points</span> <span class="op">&lt;-</span> <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="va">fcst_cone</span>, region <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Warning in showSRID(uprojargs, format = "PROJ", multiline = "NO", prefer_proj</span>
<span class="co">## = prefer_proj): Discarded ellps unknown in Proj4 definition: +proj=longlat</span>
<span class="co">## +R=6371200 +no_defs +type=crs</span></code></pre>
<pre><code><span class="co">## Warning in showSRID(uprojargs, format = "PROJ", multiline = "NO", prefer_proj =</span>
<span class="co">## prefer_proj): Discarded datum unknown in Proj4 definition</span></code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fcst_cone</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">fcst_cone.points</span>, <span class="va">fcst_cone</span><span class="op">@</span><span class="va">data</span>, by <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p3</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html" class="external-link">geom_polygon</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">fcst_cone</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">FCSTPRD</span> <span class="op">==</span> <span class="fl">120</span><span class="op">)</span>, 
                 <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">long</span>, <span class="va">lat</span>, group <span class="op">=</span> <span class="va">group</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">FCSTPRD</span><span class="op">)</span><span class="op">)</span>, 
                 alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html" class="external-link">geom_polygon</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">fcst_cone</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">FCSTPRD</span> <span class="op">==</span> <span class="fl">72</span><span class="op">)</span>, 
                 <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">long</span>, <span class="va">lat</span>, group <span class="op">=</span> <span class="va">group</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">FCSTPRD</span><span class="op">)</span><span class="op">)</span>, 
                 alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></code></pre></div>
<p><img src="gis_data_files/figure-html/unnamed-chunk-18-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Note that in some GIS packages the forecast cones may be identical (though they shouldn’t be). I’ve noticed it with Hurricanes Ike and Matthew; it’s in the raw dataset.</p>
</div>
<div class="section level2">
<h2 id="watches-and-warnings">Watches and Warnings<a class="anchor" aria-label="anchor" href="#watches-and-warnings"></a>
</h2>
<p>You can also plot watches and warnings if any are in effect for the package release time.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ww_line</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/shp_to_df.html">shp_to_df</a></span><span class="op">(</span><span class="va">df.gis_adv</span><span class="op">$</span><span class="va">al182012.018_ww_wwlin</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p3</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_path</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ww_line</span>, 
               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, group <span class="op">=</span> <span class="va">group</span>, color <span class="op">=</span> <span class="va">TCWW</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<p><img src="gis_data_files/figure-html/unnamed-chunk-20-1.png" width="672" style="display: block; margin: auto;"></p>
<p>In the example above you can see tropical storm warnings issued for the Bahamas, North Carolina and portions of the South Carolina and Florida coast while tropical storm watches are in effect for northern Florida and South Carolina.</p>
</div>
<div class="section level2">
<h2 id="probabilistic-storm-surge">Probabilistic Storm Surge<a class="anchor" aria-label="anchor" href="#probabilistic-storm-surge"></a>
</h2>
<p>The Tropical Cyclone Storm Surge Probabilities data shows the probability, in percent, of a specified storm surge occurring during the forecast period indicated. The product is based upon an ensemble of Sea, Lake, and Overland Surge from Hurricanes (SLOSH) model runs using the National Hurricane Center (NHC) official advisory and accounts for track, size, and intensity errors based on historical errors.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gis_prob_storm_surge.html">gis_prob_storm_surge</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"AL142016"</span>, 
                  products <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>psurge <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>, 
                     datetime <span class="op">=</span> <span class="st">"20161006"</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "https://www.nhc.noaa.gov/gis/storm_surge/al142016_psurge0_2016100600.zip"</span>
<span class="co">## [2] "https://www.nhc.noaa.gov/gis/storm_surge/al142016_psurge0_2016100606.zip"</span>
<span class="co">## [3] "https://www.nhc.noaa.gov/gis/storm_surge/al142016_psurge0_2016100612.zip"</span>
<span class="co">## [4] "https://www.nhc.noaa.gov/gis/storm_surge/al142016_psurge0_2016100618.zip"</span></code></pre>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df.gis_storm_surge</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/gis_prob_storm_surge.html">gis_prob_storm_surge</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"AL142016"</span>, 
                   products <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>psurge <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>, 
                  datetime <span class="op">=</span> <span class="st">"20161006"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">last</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/gis_download.html">gis_download</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">prob_surge</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/shp_to_df.html">shp_to_df</a></span><span class="op">(</span><span class="va">df.gis_storm_surge</span><span class="op">$</span><span class="va">al142016_2016100618_gt0</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Warning in RGEOSUnaryPredFunc(spgeom, byid, "rgeos_isvalid"): Ring Self-</span>
<span class="co">## intersection at or near point -81.136932369999997 25.789945599999999</span></code></pre>
<pre><code><span class="co">## Warning in RGEOSUnaryPredFunc(spgeom, byid, "rgeos_isvalid"): Ring Self-</span>
<span class="co">## intersection at or near point -85.46185303 29.966722489999999</span></code></pre>
<pre><code><span class="co">## Warning in RGEOSUnaryPredFunc(spgeom, byid, "rgeos_isvalid"): Ring Self-</span>
<span class="co">## intersection at or near point -81.25689697 25.743593220000001</span></code></pre>
<pre><code><span class="co">## Warning in RGEOSUnaryPredFunc(spgeom, byid, "rgeos_isvalid"): Ring Self-</span>
<span class="co">## intersection at or near point -76.067649840000001 35.958679199999999</span></code></pre>
<pre><code><span class="co">## Warning in RGEOSUnaryPredFunc(spgeom, byid, "rgeos_isvalid"): Ring Self-</span>
<span class="co">## intersection at or near point -81.021675110000004 25.239685059999999</span></code></pre>
<pre><code><span class="co">## Warning in RGEOSUnaryPredFunc(spgeom, byid, "rgeos_isvalid"): Ring Self-</span>
<span class="co">## intersection at or near point -81.640518189999995 29.382949830000001</span></code></pre>
<pre><code><span class="co">## SpP is invalid</span></code></pre>
<pre><code><span class="co">## Warning in rgeos::gUnaryUnion(spgeom = SpP, id = IDs): Invalid objects found;</span>
<span class="co">## consider using set_RGEOS_CheckValidity(2L)</span></code></pre>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/bbox.html" class="external-link">bbox</a></span><span class="op">(</span><span class="va">df.gis_storm_surge</span><span class="op">$</span><span class="va">al142016_2016100618_gt0</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_path</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">prob_surge</span>, 
               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, 
                   group <span class="op">=</span> <span class="va">group</span>, 
                   color <span class="op">=</span> <span class="va">PSurge00c</span><span class="op">)</span>, 
              size <span class="op">=</span> <span class="fl">1</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>,
                ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></code></pre>
<p><img src="gis_data_files/figure-html/unnamed-chunk-24-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="current-and-forecast-wind-field-radii">Current and Forecast Wind Field Radii<a class="anchor" aria-label="anchor" href="#current-and-forecast-wind-field-radii"></a>
</h2>
<p>Wind radii data may also be available for some cyclone advisory packages. This is the radius to which a minimum sustained wind speed may be felt from the center of circulation.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gis_windfield.html">gis_windfield</a></span><span class="op">(</span><span class="st">"AL142016"</span>, advisory <span class="op">=</span> <span class="st">"33"</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "https://www.nhc.noaa.gov/gis/forecast/archive/al142016_fcst_033.zip"</span></code></pre>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df.gis_wind_radii</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gis_windfield.html">gis_windfield</a></span><span class="op">(</span><span class="st">"AL142016"</span>, advisory <span class="op">=</span> <span class="st">"33"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/gis_download.html">gis_download</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wf_init</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/shp_to_df.html">shp_to_df</a></span><span class="op">(</span><span class="va">df.gis_wind_radii</span><span class="op">$</span><span class="va">al142016_2016100606_initialradii</span><span class="op">)</span>
<span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/bbox.html" class="external-link">bbox</a></span><span class="op">(</span><span class="va">df.gis_wind_radii</span><span class="op">$</span><span class="va">al142016_2016100606_forecastradii</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="va">p4</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html" class="external-link">geom_polygon</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">wf_init</span>, 
                  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">RADII</span><span class="op">)</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></code></pre>
<p><img src="gis_data_files/figure-html/unnamed-chunk-28-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Additionally, forecast wind radii data is also generally available in some packages</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wf_fcst</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/shp_to_df.html">shp_to_df</a></span><span class="op">(</span><span class="va">df.gis_wind_radii</span><span class="op">$</span><span class="va">al142016_2016100606_forecastradii</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p4</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html" class="external-link">geom_polygon</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">wf_fcst</span>, 
                  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, group <span class="op">=</span> <span class="va">group</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">RADII</span><span class="op">)</span><span class="op">)</span>, 
                  alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></code></pre></div>
<p><img src="gis_data_files/figure-html/unnamed-chunk-30-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="wind-speed-probabilities">Wind Speed Probabilities<a class="anchor" aria-label="anchor" href="#wind-speed-probabilities"></a>
</h2>
<p>Wind Speed probabilities show the chance of experiencing a minimum-sustained winds of 34, 50 and 64 knots with a given period of time (typically, 120 hours). These products are not storm-specific but are global so other active cyclones in other basins may also appear.</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gis_wsp.html">gis_wsp</a></span><span class="op">(</span>datetime <span class="op">=</span> <span class="st">"2016100606"</span>, res <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## [1] "https://www.nhc.noaa.gov/gis/forecast/archive/2016100606_wsp_120hrhalfDeg.zip"</span></code></pre>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df.gis_wsp</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/gis_download.html">gis_download</a></span><span class="op">(</span>
    <span class="st">"https://www.nhc.noaa.gov/gis/forecast/archive/2016100606_wsp_120hrhalfDeg.zip"</span>
  <span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="cumulative-probability-for-34kt-winds">Cumulative Probability for &gt;34kt Winds<a class="anchor" aria-label="anchor" href="#cumulative-probability-for-34kt-winds"></a>
</h3>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/bbox.html" class="external-link">bbox</a></span><span class="op">(</span><span class="va">df.gis_wsp</span><span class="op">$</span><span class="va">`2016100606_wsp34knt120hr_halfDeg`</span><span class="op">)</span>
<span class="va">p</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>
    data <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">df.gis_wsp</span><span class="op">$</span><span class="va">`2016100606_wsp34knt120hr_halfDeg`</span><span class="op">)</span>, 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">PWIND120</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">coord_sf</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Cumulative wind speed probability for &gt;50kt winds:</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/bbox.html" class="external-link">bbox</a></span><span class="op">(</span><span class="va">df.gis_wsp</span><span class="op">$</span><span class="va">`2016100606_wsp50knt120hr_halfDeg`</span><span class="op">)</span>
<span class="va">p</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>
    data <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">df.gis_wsp</span><span class="op">$</span><span class="va">`2016100606_wsp50knt120hr_halfDeg`</span><span class="op">)</span>, 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">PWIND120</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">coord_sf</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Cumulative probability for &gt;64kt winds:</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">bb</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/bbox.html" class="external-link">bbox</a></span><span class="op">(</span><span class="va">df.gis_wsp</span><span class="op">$</span><span class="va">`2016100606_wsp64knt120hr_halfDeg`</span><span class="op">)</span>
<span class="va">p</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>
    data <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">df.gis_wsp</span><span class="op">$</span><span class="va">`2016100606_wsp64knt120hr_halfDeg`</span><span class="op">)</span>, 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">PWIND120</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">coord_sf</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">]</span>, <span class="va">bb</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://twitter.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-twitter"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
